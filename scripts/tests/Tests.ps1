[CmdletBinding()]param (    [Parameter(Mandatory=$true)]    [string]$DatabaseUrl,    [Parameter(Mandatory=$false)]    [string]$BackupPath = ".\backups",    [Parameter(Mandatory=$false)]    [switch]$DryRun)# Import common functions. $PSScriptRoot/common/database-helpers.ps1function Start-ExtensionRecovery {    $ErrorActionPreference = "Stop"        Write-Host "Starting extension recovery process..." -ForegroundColor Yellow        # Verify backup exists    if (-not (Test-Path $BackupPath)) {        throw "Backup path not found: $BackupPath"    }    # Check current extension state    $query = @"    SELECT extname, extversion, extrelocatable, extcondition     FROM pg_extension     WHERE extname IN ('timescaledb', 'plv8', 'pg_cron', 'pgjwt');"@        $extensions = Invoke-PostgresQuery -Query $query        foreach ($ext in $extensions) {        Write-Host "Attempting recovery for $($ext.extname)..." -ForegroundColor Cyan                if (-not $DryRun) {            # Backup extension-specific objects            Backup-ExtensionObjects -ExtensionName $ext.extname                        # Attempt to fix extension            try {                $result = Repair-Extension -ExtensionName $ext.extname -Version $ext.extversion                Write-Host "Recovery succeeded for $($ext.extname)" -ForegroundColor Green            }            catch {                Write-Error "Failed to recover $($ext.extname): $_"            }        }    }}