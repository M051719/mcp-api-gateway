BeforeAll {    . $PSScriptRoot/../staging_upgrade_prep.ps1    . $PSScriptRoot/../staging_restore.ps1}Describe "Database Upgrade Scripts" {    Context "Staging Prep Script" {        It "Should validate DATABASE_URL format" {            $env:DATABASE_URL = "invalid-url"            { ./staging_upgrade_prep.ps1 -DryRun $true } |                 Should -Throw "Invalid DATABASE_URL format"        }        It "Should create backup directory if not exists" {            $backupDir = ".\backups"            if (Test-Path $backupDir) { Remove-Item $backupDir -Recurse -Force }                        ./staging_upgrade_prep.ps1 -DryRun $true            Test-Path $backupDir | Should -Be $true        }    }    Context "Extension Validation" {        It "Should detect incompatible extension versions" {            $result = Test-ExtensionVersions            $result.TimescaleDB | Should -Not -BeLessThan "2.16.1"            $result.PLV8 | Should -Not -BeLessThan "3.1.10"        }    }}